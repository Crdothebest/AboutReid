# 命令行测试多尺度滑动窗口使用说明

## 概述
现在你可以通过命令行参数直接控制是否使用多尺度滑动窗口，无需修改配置文件。

---

## 🔥 使用方法

### 1. 测试原始CLIP（不使用多尺度滑动窗口）

```bash
# 方法1：使用 --no_multi_scale 参数
python train_net.py --config_file configs/RGBNT201/MambaPro.yml --no_multi_scale

# 方法2：使用配置文件默认值（当前设置为False）
python train_net.py --config_file configs/RGBNT201/MambaPro.yml
```

### 2. 测试多尺度滑动窗口（使用多尺度滑动窗口）

```bash
# 使用 --use_multi_scale 参数
python train_net.py --config_file configs/RGBNT201/MambaPro.yml --use_multi_scale
```

### 3. 快速对比测试

```bash
# 先测试原始CLIP
echo "🔥 测试原始CLIP..."
python train_net.py --config_file configs/RGBNT201/MambaPro.yml --no_multi_scale

# 再测试多尺度滑动窗口
echo "🔥 测试多尺度滑动窗口..."
python train_net.py --config_file configs/RGBNT201/MambaPro.yml --use_multi_scale
```

---

## 🔥 参数说明

| 参数 | 功能 | 示例 |
|------|------|------|
| `--use_multi_scale` | 启用多尺度滑动窗口 | `--use_multi_scale` |
| `--no_multi_scale` | 禁用多尺度滑动窗口 | `--no_multi_scale` |
| 无参数 | 使用配置文件默认值 | 当前默认为`False` |

---

## 🔥 输出说明

### 启用多尺度滑动窗口时
```
🔥 启用多尺度滑动窗口 (命令行参数)
✅ 为CLIP启用多尺度滑动窗口特征提取模块
   - 滑动窗口尺度: [4, 8, 16]
   - 特征维度: 512 (CLIP投影维度)
```

### 禁用多尺度滑动窗口时
```
🔥 禁用多尺度滑动窗口 (命令行参数)
Loading pretrained model from CLIP
```

### 使用配置文件默认值时
```
🔥 使用配置文件设置: USE_CLIP_MULTI_SCALE = False
Loading pretrained model from CLIP
```

---

## 🔥 实验对比

### 原始CLIP实验
- **命令**：`python train_net.py --config_file configs/RGBNT201/MambaPro.yml --no_multi_scale`
- **功能**：使用原始CLIP分支，不添加多尺度滑动窗口
- **输出**：`outputs/baseline_experiment/` 或配置文件指定的目录

### 多尺度滑动窗口实验
- **命令**：`python train_net.py --config_file configs/RGBNT201/MambaPro.yml --use_multi_scale`
- **功能**：在CLIP分支基础上添加多尺度滑动窗口特征提取
- **输出**：`outputs/multi_scale_experiment/` 或配置文件指定的目录

---

## 🔥 快速测试脚本

你也可以创建简单的测试脚本：

### 测试原始CLIP
```bash
#!/bin/bash
echo "🔥 测试原始CLIP..."
python train_net.py --config_file configs/RGBNT201/MambaPro.yml --no_multi_scale
```

### 测试多尺度滑动窗口
```bash
#!/bin/bash
echo "🔥 测试多尺度滑动窗口..."
python train_net.py --config_file configs/RGBNT201/MambaPro.yml --use_multi_scale
```

---

## 🔥 注意事项

1. **配置文件优先级**：命令行参数会覆盖配置文件中的设置
2. **参数冲突**：不能同时使用`--use_multi_scale`和`--no_multi_scale`
3. **输出目录**：两种模式会使用相同的输出目录，建议修改配置文件中的`OUTPUT_DIR`
4. **实验记录**：建议记录每次实验的参数和结果，便于对比分析

---

## 🔥 实验建议

### 1. 先测试原始CLIP
```bash
python train_net.py --config_file configs/RGBNT201/MambaPro.yml --no_multi_scale
```

### 2. 再测试多尺度滑动窗口
```bash
python train_net.py --config_file configs/RGBNT201/MambaPro.yml --use_multi_scale
```

### 3. 对比结果
- 查看训练日志
- 对比性能指标
- 分析特征质量

---

## 🔥 故障排除

### 问题1：参数不生效
**解决**：检查命令行参数是否正确，确保没有拼写错误

### 问题2：配置文件冲突
**解决**：命令行参数会覆盖配置文件，这是正常行为

### 问题3：输出目录混乱
**解决**：修改配置文件中的`OUTPUT_DIR`，为不同实验设置不同目录

---

**现在你可以通过简单的命令行参数快速切换和测试两种模式了！**
